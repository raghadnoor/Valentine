<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Be My Valentine üíñ</title>
<style>
    * { box-sizing: border-box; }
    body {
        margin: 0;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: #ff3333;
        font-family: Arial, sans-serif;
        overflow: hidden;
        transition: background 0.5s;
    }
    .card {
        background: white;
        padding: 40px 50px;
        border-radius: 20px;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        position: relative;
        z-index: 10;
    }
    h1 {
        margin-bottom: 30px;
        color: #cc0000;
    }
    .btn-row {
        display: flex;
        justify-content: center;
        gap: 20px;
    }
    button {
        padding: 12px 28px;
        font-size: 16px;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        transition: transform 0.1s;
    }
    #yesBtn {
        background-color: #cc0000;
        color: white;
    }
    #yesBtn:hover { transform: scale(1.05); }

    /* No button: fixed position so it can move freely anywhere on screen */
    #noBtn {
        background-color: #aaa;
        color: white;
        position: fixed;
        z-index: 999;
        transition: left 0.08s ease, top 0.08s ease;
        pointer-events: auto;
    }

    .celebration {
        font-size: 24px;
        color: #cc0000;
        margin-top: 20px;
        animation: pop 0.5s ease infinite alternate;
    }
    @keyframes pop {
        from { transform: scale(1); }
        to   { transform: scale(1.1); }
    }

    .heart-float {
        position: fixed;
        font-size: 22px;
        pointer-events: none;
        animation: floatUp 2.5s ease-out forwards;
        z-index: 5;
    }
    @keyframes floatUp {
        0%   { opacity: 1; transform: translateY(0) scale(1); }
        100% { opacity: 0; transform: translateY(-200px) scale(1.4); }
    }
</style>
</head>
<body>

<div class="card">
    <h1>Will you be my Valentine? ‚ù§Ô∏è</h1>
    <div class="btn-row">
        <button id="yesBtn">Yes üíï</button>
        <!-- No button placeholder to reserve layout space -->
        <div style="width:110px;height:44px;"></div>
    </div>
    <div id="result"></div>
</div>

<!-- No button lives outside the card so it can roam the full screen -->
<button id="noBtn">No üôà</button>

<script>
    const noBtn   = document.getElementById("noBtn");
    const yesBtn  = document.getElementById("yesBtn");
    const result  = document.getElementById("result");

    // --- Position the No button initially right next to the Yes button ---
    function initNoBtnPosition() {
        const yesRect = yesBtn.getBoundingClientRect();
        noBtn.style.left = (yesRect.right + 20) + "px";
        noBtn.style.top  = yesRect.top + "px";
    }
    initNoBtnPosition();
    window.addEventListener("resize", initNoBtnPosition);

    // --- Escape logic: flee from mouse cursor ---
    const FLEE_RADIUS = 160; // pixels ‚Äî how close before it runs
    const FLEE_DIST   = 220; // how far it jumps

    document.addEventListener("mousemove", (e) => {
        const btnRect  = noBtn.getBoundingClientRect();
        const btnCX    = btnRect.left + btnRect.width  / 2;
        const btnCY    = btnRect.top  + btnRect.height / 2;

        const dx = btnCX - e.clientX;
        const dy = btnCY - e.clientY;
        const dist = Math.hypot(dx, dy);

        if (dist < FLEE_RADIUS) {
            // Direction away from cursor
            const angle = Math.atan2(dy, dx);

            let newX = btnCX + Math.cos(angle) * FLEE_DIST - btnRect.width  / 2;
            let newY = btnCY + Math.sin(angle) * FLEE_DIST - btnRect.height / 2;

            // Clamp so it stays fully within the viewport
            const margin = 10;
            newX = Math.max(margin, Math.min(window.innerWidth  - btnRect.width  - margin, newX));
            newY = Math.max(margin, Math.min(window.innerHeight - btnRect.height - margin, newY));

            noBtn.style.left = newX + "px";
            noBtn.style.top  = newY + "px";
        }
    });

    // --- Yes button celebration ---
    yesBtn.addEventListener("click", () => {
        result.innerHTML = '<div class="celebration">Yaaay!! üòèüêùüíó You made me the happiest person!</div>';
        document.body.style.background = "#990000";

        // Spawn floating hearts
        for (let i = 0; i < 60; i++) {
            setTimeout(() => {
                const heart = document.createElement("div");
                heart.className = "heart-float";
                heart.innerHTML = ["‚ù§Ô∏è","üíï","üíñ","üíó","üíì"][Math.floor(Math.random() * 5)];
                heart.style.left = Math.random() * window.innerWidth  + "px";
                heart.style.top  = Math.random() * window.innerHeight + "px";
                heart.style.fontSize = (16 + Math.random() * 20) + "px";
                document.body.appendChild(heart);
                setTimeout(() => heart.remove(), 2600);
            }, i * 40);
        }

        noBtn.style.display = "none";
    });
</script>
</body>
</html>
